<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>OrbitronDev Cloud</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2" />

        <!-- CSS Global Compulsory -->
        <link rel="stylesheet" href="{{ asset('assets/plugins/bootstrap/css/bootstrap.min.css') }}" />
        <link rel="stylesheet" href="{{ asset('assets/plugins/font-awesome/css/font-awesome.min.css') }}" />

        <!-- JS Global Compulsory -->
        <script type="text/javascript" src="{{ asset('assets/plugins/jquery/jquery.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/plugins/bootstrap/js/bootstrap.min.js') }}"></script>

        <!-- Require JS (REQUIRED) -->
        <!-- Rename "main.default.js" to "main.js" and edit it if you need configure elFInder options or any things -->
        <script data-main="{{ asset('app/cloud/main.default.js') }}" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"></script>
        <script>
            define('elFinderConfig', {
                // elFinder options (REQUIRED)
                // Documentation for client options:
                // https://github.com/Studio-42/elFinder/wiki/Client-configuration-options
                defaultOpts : {
                    url : 'app/cloud/php/connector.minimal.php' // connector URL (REQUIRED)
                    ,commandsOptions : {
                        edit : {
                            extraOptions : {
                                // set API key to enable Creative Cloud image editor
                                // see https://console.adobe.io/
                                creativeCloudApiKey : '',
                                // browsing manager URL for CKEditor, TinyMCE
                                // uses self location with the empty value
                                managerUrl : ''
                            }
                        }
                        ,quicklook : {
                            // to enable preview with Google Docs Viewer
                            googleDocsMimes : ['application/pdf', 'image/tiff', 'application/vnd.ms-office', 'application/msword', 'application/vnd.ms-word', 'application/vnd.ms-excel', 'application/vnd.ms-powerpoint', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet']
                        }
                    }
                    // bootCalback calls at before elFinder boot up
                    ,bootCallback : function(fm, extraObj) {
                        /* any bind functions etc. */
                        fm.bind('init', function() {
                            // any your code
                        });
                        // for example set document.title dynamically.
                        var title = document.title;
                        fm.bind('open', function() {
                            var path = '',
                                cwd  = fm.cwd();
                            if (cwd) {
                                path = fm.path(cwd.hash) || null;
                            }
                            document.title = path? path + ':' + title : title;
                        }).bind('destroy', function() {
                            document.title = title;
                        });
                    }
                },
                managers : {
                    // 'DOM Element ID': { /* elFinder options of this DOM Element */ }
                    'elfinder': {}
                }
            });
        </script>
    </head>
    <body>
        <!--=== Navigation ===-->
        <nav class="navbar navbar-default">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">{{ 'Toggle navigation'|trans }}</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="{{ service.page_logo_link }}">{{ service.page_name }}</a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="{{ path('app_cloud_files') }}">{{ 'Files'|trans }}</a></li>
                        <li><a href="{{ path('app_cloud_share') }}">{{ 'Share'|trans }}</a></li>
                        {% if current_user.user_id == current_forum.owner_id %}
                            <li><a href="{{ path('app_forum_forum_admin', {'forum': current_forum.url, 'page': 'home'}) }}" class="admin-link">{{ 'Admin Panel'|trans }}</a></li>
                        {% endif %}
                        {% if current_user.user_id > -1 %}
                            <li class="dropdown">
                                <a href="{{ path('app_account_user', {'username': current_user.username}) }}" class="dropdown-toggle" data-toggle="dropdown" style="padding-top: 7px; padding-bottom: 7px;">
                                    <img class="img-circle" src="{{ path('app_account_api', {'function': 'get_img', 'user_id': current_user.user_id, 'height': 36, 'width': 36}) }}" />
                                    {{ current_user.username }}
                                    <span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="{{ path('app_account_user', {'username': current_user.username}) }}">{{ 'Profile'|trans }}</a></li>
                                    <li><a href="{{ path('app_account_panel', {'page': 'home'}) }}">{{ 'Settings'|trans }}</a></li>
                                    <li class="divider"></li>
                                    <li><a href="{{ path('app_account_logout') }}">{{ 'Logout'|trans }}</a></li>
                                </ul>
                            </li>
                        {% else %}
                            <li><a href="{{ path('app_account_login', {'redir': app.request.uri}) }}">{{ 'header.account.login'|trans }}</a></li>
                            <li><a href="{{ path('app_account_register') }}">{{ 'header.account.register'|trans }}</a></li>
                        {% endif %}
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <!--=== End Navigation ===-->

        <div class="container">
            <div class="row">
                <div class="col-md-10">
                    <section id="cloud-functions">

                    </section>
                    <section id="cloud-files">
                        <!-- Element where elFinder will be created (REQUIRED) -->
                        <div id="elfinder"></div>
                    </section>
                </div>
            </div>
        </div>

    </body>
</html>
